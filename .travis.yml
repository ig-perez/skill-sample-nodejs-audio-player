language: node_js
node_js:
  - "8"
cache:
  directories:
  - lambda/custom/node_modules
install:
  - npm install bespoken-tools@beta -g
  - npm install codecov -g
  - cd single-stream/lambda && npm install
  - cd src && node_modules/.bin/tsc && cd ../../..
  - cd multiple-streams/lambda && npm install && cd ../..
script:
 - cd single-stream && bst test && cd ..
 - cd multiple-streams && bst test && cd ..
 - codecov
